<!DOCTYPE html>
<html>
  <head>
    <title>My Blog</title>
    <link rel="stylesheet" href="/assets/styles.css">
    {% include hamburger_menu.html %}
  </head>
  <body>
    <h1>Charlie's Notes</h1>
    <p>Notes on machine learning theory, maths, and anything else I can be bothered to write about.</p>
    {% for post in site.posts %}

    <hr>

      <article class="blog-post">
        <a href="{{ post.url }}">
          <img src="{{ post.image }}" alt="{{ post.title }} Thumbnail" class="post-thumbnail">
        </a>
        <div class="post-content">
          <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
          <p class="date">{{ post.date | date_to_string }}</p>
        </div>
      </article>
    {% endfor %}
    {{ content }}
  </body>

  <script>
    // Check for touchscreen devices
    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    // Target the hamburger menu, menu, and the document for event listeners
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const navMenu = document.querySelector('.nav');

    // Event listener for the hamburger menu
    hamburgerMenu.addEventListener(isTouchDevice ? 'click' : 'mouseover', () => {
      navMenu.classList.toggle('show');
    });

    // Event listener to close the menu when clicking outside of it
    document.addEventListener('click', (event) => {
      // If the click didn't happen inside the menu or the hamburger icon, and
      // the menu is visible, then remove the 'show' class.
      if (!hamburgerMenu.contains(event.target) && !navMenu.contains(event.target) && navMenu.classList.contains('show')) {
        navMenu.classList.remove('show');
      }
    });
  </script>
</html>